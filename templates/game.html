<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=0.5" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <title>Dungeon of Thordon</title>
    <link rel="stylesheet" type="text/css" href="static/style.css">
	<script src="static/terminal.js"></script>
	<script src="static/network.js"></script>
</head>
<body>

	<audio id="footstep">
		<source src="static/snd/footstep.mp3" type="audio/mpeg">
	</audio>

	<audio id="challenge-complete">
		<source src="static/snd/challenge-complete.mp3" type="audio/mpeg">
	</audio>

	<audio id="magic">
		<source src="static/snd/magic.mp3" type="audio/mpeg">
	</audio>

	<audio id="open-door">
		<source src="static/snd/open-door.mp3" type="audio/mpeg">
	</audio>

	<audio id="death-durg">
		<source src="static/snd/death-durg.mp3" type="audio/mpeg">
	</audio>

	<audio id="morning-star-trap">
		<source src="static/snd/morning-star-trap.mp3" type="audio/mpeg">
	</audio>

{#    <div style="display: grid; grid-template-columns: min-content min-content min-content;">#}

        {# Main Screen & Console #}
        <div style="width: 600px; display: grid; grid-template-columns: min-content" class="center">
            <div id="title" style="text-align:center; font-size: 1.875em; font-weight: bold; margin:auto; width: 600px;">
                DЦИGΞФИ ФF ΓHФЯDФИ
            </div>
            <div style="width: 600px;">
                <button class="control" style="font-size: 8px; font-weight: normal; border-radius: 15%; height: fit-content; width: fit-content;" onclick="endGame();">End Game</button>
                <span style="float: right; vertical-align: bottom;">v0.2</span>
            </div>
            <pre id="screen" style="margin:auto; width: 600px;"></pre>
            {# Mobile Controls #}
            <table style="width: 600px;">
                <tr>
                    <td>
                        <table>
                            <tr>
                                <td colspan="2" style="vertical-align: bottom; text-align: center"><button class="control" onclick="mobileButtonPushed('w')">&uarr;</button></td>
                            </tr>
                            <tr>
                                <td style="vertical-align: top;">
                                    <button class="control" onclick="mobileButtonPushed('a')">&larr;</button>
                                </td>
                                <td style="vertical-align: top;">
                                    <button class="control" onclick="mobileButtonPushed('d')">&rarr;</button>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td rowspan="2"><button id="a_button" style="vertical-align: center; " class="control" onclick="mobileButtonPushed('f')">Fight</button></td>
                    <td rowspan="2"><button id="b_button" class="control" onclick="mobileButtonPushed('r')">Run</button></td>
                    <td rowspan="2"><button id="b_button" class="control" onclick="mobileButtonPushed('i')">Inv.</button></td>
                </tr>
            </table>
        </div>

	<script>
		const term = new Terminal('terminal');
		term.setHeight("450px");
		term.setWidth('600px');
		term.setBackgroundColor('black');
		term.setTextColor('green');
		term.blinkingCursor(false);
		document.getElementById('screen').appendChild(term.html);

		connect(term, '/api/v1/game/action/start')
	</script>

</body>
</html>